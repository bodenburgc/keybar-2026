# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

**KeyBar 2026** - Shopify store for KeyBar EDC (Everyday Carry) key organizers. Built on the BODE theme framework.

| Key Info | Value |
|----------|-------|
| Brand | KeyBar |
| Theme Framework | BODE 1.0.0 |
| Store URL | TBD |
| Shopify API | 2024-01 |
| Target Market | EDC enthusiasts, "Stop the Noise" |

## Framework Relationship

This project is built on **BODE**, a shared Shopify theme framework.

```
BODE-shopify (upstream)           ← Master framework
    ↓
keybar-2026 (this repo)           ← KeyBar-specific customizations
```

### Git Remotes

```
origin   → https://github.com/bodenburgc/keybar-2026.git      (KeyBar changes)
upstream → https://github.com/bodenburgc/BODE-shopify.git     (Framework updates)
```

### Pulling Framework Updates

When BODE is improved, pull updates into KeyBar:

```bash
git fetch upstream
git merge upstream/main
# Resolve any conflicts in brand-specific files
git push origin main
```

### What to Customize Here (KeyBar-specific)

These files are brand-specific and should be customized for KeyBar:
- `config/settings_data.json` - Theme settings (colors, fonts, etc.)
- `sections/header-group.json` - Header configuration
- `sections/footer-group.json` - Footer configuration
- `templates/index.json` - Homepage layout
- `.docs/brand/` - KeyBar brand guidelines
- `assets/logo*.svg` - KeyBar logos

### What NOT to Customize (Framework code)

These files come from BODE and should generally not be modified directly:
- `sections/*.liquid` - Section templates
- `snippets/*.liquid` - Reusable components
- `assets/theme.js`, `assets/theme.css` - Core JS/CSS
- `config/settings_schema.json` - Settings definitions

**If you need changes to framework files, make them in BODE-shopify first, then pull upstream.**

### Development Workflow

```
Need to fix a bug?           → Go to BODE, fix it, pull upstream here
Need to add a feature?       → Go to BODE, add it, pull upstream here
Need to change KeyBar brand? → Do it HERE in KeyBar
```

| Change Type | Where |
|-------------|-------|
| Bug fix in section/snippet | BODE → pull upstream |
| New reusable section | BODE → pull upstream |
| Improve JS/CSS | BODE → pull upstream |
| KeyBar colors/fonts | HERE |
| KeyBar homepage | HERE |
| KeyBar logos | HERE |

## Shopify CLI Commands

```bash
shopify theme dev          # Local development server
shopify theme push         # Deploy to store
shopify theme pull         # Pull live theme changes
shopify theme check        # Lint/validate theme
shopify theme share        # Generate preview link
shopify auth login         # Authenticate (required first)
```

## KeyBar-Specific Features

### Product Structure
- **KeyBars** - Main product line (various sizes/materials)
- **Inserts** - Accessories that fit inside KeyBars
- **Accessories** - Standalone accessories
- **Bundles** - KeyBar + insert combinations
- **Limited Editions** - Special releases

### Key Sections for KeyBar
- `product-bundle.liquid` - Bundle KeyBar + inserts for upsells
- `product-comparison.liquid` - Compare KeyBar sizes/materials
- `dealer-locator.liquid` - Find KeyBar retailers
- `pro-staff.liquid` - KeyBar ambassadors/team

## Theme Architecture

### Component Hierarchy

```
layout/theme.liquid
├── sections 'header-group'     → sections/header-group.json
├── sections 'overlay-group'    → sections/overlay-group.json
├── content_for_layout          → templates/*.json → sections/*.liquid
└── sections 'footer-group'     → sections/footer-group.json
```

### Key Files

| File | Purpose |
|------|---------|
| `snippets/css-variables.liquid` | Global CSS custom properties from theme settings |
| `snippets/js-variables.liquid` | JavaScript config (routes, feature flags) |
| `config/settings_schema.json` | Theme settings definitions |
| `config/settings_data.json` | Current setting values (auto-generated, DO NOT edit) |
| `locales/en.default.json` | Translation strings (English only) |

## Brand Guidelines

**Update `.docs/brand/` with KeyBar-specific guidelines:**
- Voice: "Stop the Noise" messaging, EDC lifestyle
- Colors: KeyBar brand palette
- Typography: Brand fonts
- Photography: EDC lifestyle, product photography

**Quick Reference (to be defined):**
- Primary messaging: "Stop the Noise"
- Product vocabulary: KeyBar, inserts, EDC
- Made in USA emphasis

## Development Notes

**Section Schema Pattern:**
```liquid
{% schema %}
{
  "name": "Section Name",
  "settings": [...],
  "blocks": [...],
  "presets": [...]
}
{% endschema %}
```

**Liquid Syntax:**
- Logic: `{%- liquid ... -%}` (whitespace-trimmed)
- Output: `{{ variable }}`
- Include: `{% render 'snippet-name', param: value %}`

## Important Constraints

1. **Never edit `config/settings_data.json` manually** - Auto-generated by Shopify admin
2. **Test locally first** - `shopify theme dev` before any `theme push`
3. **Framework changes go to BODE** - Then pull upstream here
4. **English only** - Non-English locale files have been removed
5. **Mobile-first** - Design for mobile, enhance for desktop
